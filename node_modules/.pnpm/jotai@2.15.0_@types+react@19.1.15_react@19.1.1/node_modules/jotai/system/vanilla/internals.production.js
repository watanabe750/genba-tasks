System.register([],(function(B){"use strict";return{execute:(function(){B({INTERNAL_abortPromise:D,INTERNAL_addPendingPromiseToDependency:P,INTERNAL_buildStoreRev2:cn,INTERNAL_getBuildingBlocksRev2:an,INTERNAL_getMountedOrPendingDependents:O,INTERNAL_hasInitialValue:_,INTERNAL_initializeStoreHooksRev2:J,INTERNAL_isActuallyWritableAtom:M,INTERNAL_isAtomStateInitialized:z,INTERNAL_isPendingPromise:W,INTERNAL_isPromiseLike:A,INTERNAL_registerAbortHandler:H,INTERNAL_returnAtomValue:E});function _(n){return"init"in n}function M(n){return!!n.write}function z(n){return"v"in n||"e"in n}function E(n){if("e"in n)throw n.e;return n.v}const I=B("INTERNAL_promiseStateMap",new WeakMap);function W(n){var e;return A(n)&&!!((e=I.get(n))!=null&&e[0])}function D(n){const e=I.get(n);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(r=>r()))}function H(n,e){let r=I.get(n);if(!r){r=[!0,new Set],I.set(n,r);const t=()=>{r[0]=!1};n.then(t,t)}r[1].add(e)}function A(n){return typeof(n==null?void 0:n.then)=="function"}function P(n,e,r){if(!r.p.has(n)){r.p.add(n);const t=()=>r.p.delete(n);e.then(t,t)}}function O(n,e,r){var t;const o=new Set;for(const l of((t=r.get(n))==null?void 0:t.t)||[])r.has(l)&&o.add(l);for(const l of e.p)o.add(l);return o}const G=()=>{const n=new Set,e=()=>n.forEach(r=>r());return e.add=r=>(n.add(r),()=>n.delete(r)),e},R=()=>{const n={},e=new WeakMap,r=t=>{var o,l;(o=e.get(n))==null||o.forEach(s=>s(t)),(l=e.get(t))==null||l.forEach(s=>s())};return r.add=(t,o)=>{const l=t||n,s=(e.has(l)?e:e.set(l,new Set)).get(l);return s.add(o),()=>{s==null||s.delete(o),s.size||e.delete(l)}},r};function J(n){return n.r||(n.r=R()),n.c||(n.c=R()),n.m||(n.m=R()),n.u||(n.u=R()),n.f||(n.f=G()),n}const K=(n,e,...r)=>e.read(...r),Q=(n,e,...r)=>e.write(...r),U=(n,e)=>{var r;return(r=e.unstable_onInit)==null?void 0:r.call(e,n)},X=(n,e,r)=>{var t;return(t=e.onMount)==null?void 0:t.call(e,r)},Y=(n,e)=>{const r=w(n),t=r[0],o=r[9];let l=t.get(e);return l||(l={d:new Map,p:new Set,n:0},t.set(e,l),o==null||o(n,e)),l},Z=n=>{const e=w(n),r=e[1],t=e[3],o=e[4],l=e[5],s=e[6],f=e[13],g=[],h=u=>{try{u()}catch(d){g.push(d)}};do{s.f&&h(s.f);const u=new Set,d=u.add.bind(u);t.forEach(i=>{var c;return(c=r.get(i))==null?void 0:c.l.forEach(d)}),t.clear(),l.forEach(d),l.clear(),o.forEach(d),o.clear(),u.forEach(h),t.size&&f(n)}while(t.size||l.size||o.size);if(g.length)throw new AggregateError(g)},$=n=>{const e=w(n),r=e[1],t=e[2],o=e[3],l=e[11],s=e[14],f=e[17],g=[],h=new WeakSet,u=new WeakSet,d=Array.from(o);for(;d.length;){const i=d[d.length-1],c=l(n,i);if(u.has(i)){d.pop();continue}if(h.has(i)){t.get(i)===c.n&&g.push([i,c]),u.add(i),d.pop();continue}h.add(i);for(const y of O(i,c,r))h.has(y)||d.push(y)}for(let i=g.length-1;i>=0;--i){const[c,y]=g[i];let N=!1;for(const a of y.d.keys())if(a!==c&&o.has(a)){N=!0;break}N&&(s(n,c),f(n,c)),t.delete(c)}},nn=(n,e)=>{var r,t;const o=w(n),l=o[1],s=o[2],f=o[3],g=o[6],h=o[7],u=o[11],d=o[12],i=o[13],c=o[14],y=o[16],N=o[17],a=u(n,e);if(z(a)&&(l.has(e)&&s.get(e)!==a.n||Array.from(a.d).every(([v,T])=>c(n,v).n===T)))return a;a.d.clear();let p=!0;function S(){l.has(e)&&(N(n,e),i(n),d(n))}function L(v){var T;if(v===e){const F=u(n,v);if(!z(F))if(_(v))b(n,v,v.init);else throw new Error("no atom init");return E(F)}const j=c(n,v);try{return E(j)}finally{a.d.set(v,j.n),W(a.v)&&P(e,a.v,j),(T=l.get(v))==null||T.t.add(e),p||S()}}let m,k;const un={get signal(){return m||(m=new AbortController),m.signal},get setSelf(){return!k&&M(e)&&(k=(...v)=>{if(!p)try{return y(n,e,...v)}finally{i(n),d(n)}}),k}},x=a.n;try{const v=h(n,e,L,un);return b(n,e,v),A(v)&&(H(v,()=>m==null?void 0:m.abort()),v.then(S,S)),(r=g.r)==null||r.call(g,e),a}catch(v){return delete a.v,a.e=v,++a.n,a}finally{p=!1,x!==a.n&&s.get(e)===x&&(s.set(e,a.n),f.add(e),(t=g.c)==null||t.call(g,e))}},en=(n,e)=>{const r=w(n),t=r[1],o=r[2],l=r[11],s=[e];for(;s.length;){const f=s.pop(),g=l(n,f);for(const h of O(f,g,t)){const u=l(n,h);o.set(h,u.n),s.push(h)}}},V=(n,e,...r)=>{const t=w(n),o=t[3],l=t[6],s=t[8],f=t[11],g=t[12],h=t[13],u=t[14],d=t[15],i=t[17];let c=!0;const y=a=>E(u(n,a)),N=(a,...p)=>{var S;const L=f(n,a);try{if(a===e){if(!_(a))throw new Error("atom not writable");const m=L.n,k=p[0];b(n,a,k),i(n,a),m!==L.n&&(o.add(a),(S=l.c)==null||S.call(l,a),d(n,a));return}else return V(n,a,...p)}finally{c||(h(n),g(n))}};try{return s(n,e,y,N,...r)}finally{c=!1}},tn=(n,e)=>{var r;const t=w(n),o=t[1],l=t[3],s=t[6],f=t[11],g=t[15],h=t[18],u=t[19],d=f(n,e),i=o.get(e);if(i&&!W(d.v)){for(const[c,y]of d.d)if(!i.d.has(c)){const N=f(n,c);h(n,c).t.add(e),i.d.add(c),y!==N.n&&(l.add(c),(r=s.c)==null||r.call(s,c),g(n,c))}for(const c of i.d||[])if(!d.d.has(c)){i.d.delete(c);const y=u(n,c);y==null||y.t.delete(e)}}},C=(n,e)=>{var r;const t=w(n),o=t[1],l=t[4],s=t[6],f=t[10],g=t[11],h=t[12],u=t[13],d=t[14],i=t[16],c=g(n,e);let y=o.get(e);if(!y){d(n,e);for(const N of c.d.keys())C(n,N).t.add(e);if(y={l:new Set,d:new Set(c.d.keys()),t:new Set},o.set(e,y),(r=s.m)==null||r.call(s,e),M(e)){const N=()=>{let a=!0;const p=(...S)=>{try{return i(n,e,...S)}finally{a||(u(n),h(n))}};try{const S=f(n,e,p);S&&(y.u=()=>{a=!0;try{S()}finally{a=!1}})}finally{a=!1}};l.add(N)}}return y},rn=(n,e)=>{var r;const t=w(n),o=t[1],l=t[5],s=t[6],f=t[11],g=t[19],h=f(n,e);let u=o.get(e);if(u&&!u.l.size&&!Array.from(u.t).some(d=>{var i;return(i=o.get(d))==null?void 0:i.d.has(e)})){u.u&&l.add(u.u),u=void 0,o.delete(e),(r=s.u)==null||r.call(s,e);for(const d of h.d.keys()){const i=g(n,d);i==null||i.t.delete(e)}return}return u},b=(n,e,r)=>{const t=w(n)[11],o=t(n,e),l="v"in o,s=o.v;if(A(r))for(const f of o.d.keys())P(e,r,t(n,f));o.v=r,delete o.e,(!l||!Object.is(s,o.v))&&(++o.n,A(s)&&D(s))},on=(n,e)=>{const r=w(n)[14];return E(r(n,e))},ln=(n,e,...r)=>{const t=w(n),o=t[12],l=t[13],s=t[16];try{return s(n,e,...r)}finally{l(n),o(n)}},sn=(n,e,r)=>{const t=w(n),o=t[12],l=t[18],s=t[19],f=l(n,e).l;return f.add(r),o(n),()=>{f.delete(r),s(n,e),o(n)}},q=new WeakMap,w=n=>q.get(n);function an(n){const e=w(n),r=e[24];return r?r(e):e}function cn(...n){const e={get(t){const o=w(e)[21];return o(e,t)},set(t,...o){const l=w(e)[22];return l(e,t,...o)},sub(t,o){const l=w(e)[23];return l(e,t,o)}},r=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},K,Q,U,X,Y,Z,$,nn,en,V,tn,C,rn,b,on,ln,sn,void 0].map((t,o)=>n[o]||t);return q.set(e,Object.freeze(r)),e}})}}));
